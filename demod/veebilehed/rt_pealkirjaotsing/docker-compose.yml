# cd ~/git/smart-search_github/demod/veebilehed/ea_paring_otsing
# MY_IP=$(hostname -I | sed 's/ .*$//g') docker-compose up -d && docker-compose ps
# docker-compose down && docker-compose ps

services:
  advanced_indexing:
    image: tilluteenused/smart_search_api_query_extender:2024.01.11
    ports:
      - 6604:6604
    environment:
      - SMART_SEARCH_MAX_CONTENT_LENGTH=5000000
      - SMART_SEARCH_QE_DBASE=./smart_search.sqlite

  rt_pealkirjaotsing:
    image: tilluteenused/smart_search_rt_pealkirjaotsing:2024.01.12
    ports:
      - 6605:6605
    environment:
      - DB_INDEX=./smart_search.sqlite
      - SMART_SEARCH_API_QE=http://${MY_IP}:6604/api/query_extender/process
    depends_on:
      - advanced_indexing

